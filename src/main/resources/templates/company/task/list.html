<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org">
<head th:replace="fragments/header::header">
    <title>debTask</title>
</head>
<body>
<script>
    function move(value) {
        location.href="/co/task/detail/"+value;
    }
</script>
<div th:replace="fragments/nav::nav"></div>
<div class="container">
    <a class="btn btn-dark btn-lg" th:href="@{/co/task/register}">과제발행</a>
    <table class="table table-hover">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">제목</th>
                <th scope="col">마감기간</th>
                <th scope="col">과제분야</th>
            </tr>
        </thead>
        <tbody>
        <th:block th:each="tasks, num:${tasks}">
            <tr th:onclick="'javascript:move('+${tasks.id}+');'" style="cursor:pointer;">
                <th scope="row"><span th:text="${num.count}"></span></th>
                <td><span th:text="${tasks.task_title}"></span></td>
                <td>
                    <th:block th:each="taskDetail, num:${tasks.getTaskDetails()}">
                        <span th:text="${taskDetail.task_subject}"></span>
                    </th:block>
                </td>
                <td>
                    <span th:if="${tasks.tasking_status == 0}">마감됨</span>
                    <span th:if="${tasks.tasking_status == 1}">진행중</span>
                </td>
            </tr>
        </th:block>
        </tbody>
    </table>
</div>
</body>
</html>